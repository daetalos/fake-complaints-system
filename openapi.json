{"openapi":"3.1.0","info":{"title":"Test Treaty System","version":"0.1.0"},"paths":{"/api/complaint-categories/":{"get":{"tags":["complaints"],"summary":"Get Complaint Categories","description":"Retrieves all complaint categories, grouped by main category.","operationId":"get_complaint_categories_api_complaint_categories__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ComplaintCategory"},"type":"array","title":"Response Get Complaint Categories Api Complaint Categories  Get"}}}}}}},"/api/complainants/":{"post":{"tags":["complaints"],"summary":"Create Complainant","description":"Creates a new complainant with address information.","operationId":"create_complainant_api_complainants__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplainantCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Complainant"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complainants/{complainant_id}":{"get":{"tags":["complaints"],"summary":"Get Complainant","description":"Retrieves a complainant by ID including address information.","operationId":"get_complainant_api_complainants__complainant_id__get","parameters":[{"name":"complainant_id","in":"path","required":true,"schema":{"type":"string","title":"Complainant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Complainant"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complainants":{"get":{"tags":["complaints"],"summary":"List Complainants","description":"Lists complainants, optionally filtered by name or email.","operationId":"list_complainants_api_complainants_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","title":"Q"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComplainantSummary"},"title":"Response List Complainants Api Complainants Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/":{"post":{"tags":["complaints"],"summary":"Create Complaint","description":"Creates a new complaint.","operationId":"create_complaint_api_complaints__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Complaint"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/{complaint_id}":{"get":{"tags":["complaints"],"summary":"Get Complaint","operationId":"get_complaint_api_complaints__complaint_id__get","parameters":[{"name":"complaint_id","in":"path","required":true,"schema":{"type":"string","title":"Complaint Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Complaint"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/patients-test":{"get":{"tags":["complaints"],"summary":"List Patients Test","description":"Simple test endpoint to debug the issue","operationId":"list_patients_test_api_patients_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patients":{"get":{"tags":["complaints"],"summary":"List Patients","operationId":"list_patients_api_patients_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","title":"Q"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientSummary"},"title":"Response List Patients Api Patients Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/cases":{"get":{"tags":["complaints"],"summary":"List Cases","description":"Get all cases, optionally filtered by patient_id","operationId":"list_cases_api_cases_get","parameters":[{"name":"patient_id","in":"query","required":false,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/health":{"get":{"summary":"Health Check","description":"Simple health check endpoint to confirm the API is running.","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"CaseSummary":{"properties":{"case_id":{"type":"string","format":"uuid","title":"Case Id"},"case_reference":{"type":"string","title":"Case Reference"},"patient_id":{"type":"string","format":"uuid","title":"Patient Id"}},"type":"object","required":["case_id","case_reference","patient_id"],"title":"CaseSummary"},"Complainant":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"email":{"type":"string","maxLength":255,"minLength":1,"title":"Email"},"phone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Phone"},"address_line1":{"type":"string","maxLength":255,"minLength":1,"title":"Address Line1"},"address_line2":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Address Line2"},"city":{"type":"string","maxLength":100,"minLength":1,"title":"City"},"postcode":{"type":"string","maxLength":20,"minLength":1,"title":"Postcode"},"complainant_id":{"type":"string","format":"uuid","title":"Complainant Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","email","address_line1","city","postcode","complainant_id","created_at","updated_at"],"title":"Complainant"},"ComplainantCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"email":{"type":"string","maxLength":255,"minLength":1,"title":"Email"},"phone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Phone"},"address_line1":{"type":"string","maxLength":255,"minLength":1,"title":"Address Line1"},"address_line2":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Address Line2"},"city":{"type":"string","maxLength":100,"minLength":1,"title":"City"},"postcode":{"type":"string","maxLength":20,"minLength":1,"title":"Postcode"}},"type":"object","required":["name","email","address_line1","city","postcode"],"title":"ComplainantCreate"},"ComplainantSummary":{"properties":{"complainant_id":{"type":"string","format":"uuid","title":"Complainant Id"},"name":{"type":"string","title":"Name"},"email":{"type":"string","title":"Email"},"address_line1":{"type":"string","title":"Address Line1"},"address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address Line2"},"city":{"type":"string","title":"City"},"postcode":{"type":"string","title":"Postcode"}},"type":"object","required":["complainant_id","name","email","address_line1","address_line2","city","postcode"],"title":"ComplainantSummary"},"Complaint":{"properties":{"description":{"type":"string","title":"Description"},"complaint_id":{"type":"string","format":"uuid","title":"Complaint Id"},"category_id":{"type":"string","format":"uuid","title":"Category Id"},"complainant_id":{"type":"string","format":"uuid","title":"Complainant Id"},"patient_id":{"type":"string","format":"uuid","title":"Patient Id"},"case_id":{"type":"string","format":"uuid","title":"Case Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"complainant":{"$ref":"#/components/schemas/ComplainantSummary"},"patient":{"$ref":"#/components/schemas/PatientSummary"},"case":{"$ref":"#/components/schemas/CaseSummary"}},"type":"object","required":["description","complaint_id","category_id","complainant_id","patient_id","case_id","created_at","updated_at","complainant","patient","case"],"title":"Complaint"},"ComplaintCategory":{"properties":{"main_category":{"type":"string","title":"Main Category"},"sub_categories":{"items":{"$ref":"#/components/schemas/SubCategory"},"type":"array","title":"Sub Categories"}},"type":"object","required":["main_category","sub_categories"],"title":"ComplaintCategory"},"ComplaintCreate":{"properties":{"description":{"type":"string","title":"Description"},"category_id":{"type":"string","format":"uuid","title":"Category Id"},"complainant_id":{"type":"string","format":"uuid","title":"Complainant Id"},"patient_id":{"type":"string","format":"uuid","title":"Patient Id"},"case_id":{"type":"string","format":"uuid","title":"Case Id"}},"type":"object","required":["description","category_id","complainant_id","patient_id","case_id"],"title":"ComplaintCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PatientSummary":{"properties":{"patient_id":{"type":"string","format":"uuid","title":"Patient Id"},"name":{"type":"string","title":"Name"},"dob":{"type":"string","format":"date-time","title":"Dob"}},"type":"object","required":["patient_id","name","dob"],"title":"PatientSummary"},"SubCategory":{"properties":{"category_id":{"type":"string","format":"uuid","title":"Category Id"},"sub_category":{"type":"string","title":"Sub Category"}},"type":"object","required":["category_id","sub_category"],"title":"SubCategory"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}